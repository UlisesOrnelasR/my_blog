<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Blog &lt;Ulises_Ornelas/>/my_blog/posts/unittesting/</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/terminal-0.7.2.min.css><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/animate-4.1.1.min.css><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/console.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><meta property="og:title" content="2.- Integrar Testing a tu proyecto de React JS con Jest y React Testing Library"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://ulisesornelasr.github.io/my_blog/posts/unittesting/"><meta property="article:published_time" content="2022-06-22T00:00:00+00:00"><meta name=twitter:title content="2.- Integrar Testing a tu proyecto de React JS con Jest y React Testing Library"><meta name=twitter:description content="En esta publicaciÃ³n veremos como integrar pruebas de unidad a nuestro proyecto de React JS, utilizando JESTğŸƒ y React Testing LibraryğŸ™&mldr;"></head><body class=terminal><div class=container><div class=terminal-nav><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://ulisesornelasr.github.io/my_blog/ class="no-style site-name">Blog &lt;Ulises_Ornelas/></a>:~#
<a href=https://ulisesornelasr.github.io/my_blog/posts>posts</a>/<a href=https://ulisesornelasr.github.io/my_blog/posts/unittesting>unittesting</a>/</div></header><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=https://ulisesornelasr.github.io/my_blog/about/ typeof="ListItem">about/</a></li><li><a href=https://ulisesornelasr.github.io/my_blog/posts/ typeof="ListItem">posts/</a></li><li><a href=https://ulisesornelasr.github.io/my_blog/photos/ typeof="ListItem">photos/</a></li></ul></nav></div></div><div class="container animated zoomIn fast"><h1>2.- Integrar Testing a tu proyecto de React JS con Jest y React Testing Library</h1>Jun. 22, 2022<br><br><p>En esta publicaciÃ³n veremos como integrar pruebas de unidad a nuestro proyecto de React JS, utilizando <a href=https://jestjs.io/>JEST</a>ğŸƒ y <a href=https://testing-library.com/>React Testing Library</a>ğŸ™&mldr;</p><h2 id=unit-testing>Unit Testing</h2><p>Las pruebas de unidad son <strong>muy importantes</strong> en un proyecto, tanto asi, que decÃ­a mi mentor <a href=https://twitter.com/carlogilmar>CarloGilmar</a> durante mi travesÃ­a en Launch X &ldquo;Las pruebas no son negociables, Â¿Como compruebas que tu proyecto realmente funciona?-Con pruebas&rdquo;.</p><p>Tristemente tenemos una cultura donde se cree que las pruebas son una pÃ©rdida de tiempo, que tardarÃ­amos incluso mÃ¡s del doble en realizar una funcionalidad, pero <strong>esto no es asi</strong>, este tiempo en que realizarÃ­amos las pruebas nos lo tomarÃ­a en corregir los posibles bugs que tengamos sin hacer pruebas.</p><p>No obstante, realizar pruebas no quiere decir que estemos exentos de tener errores en nuestra aplicaciÃ³n, <strong>somos humanos y comentemos errores</strong>.</p><p>Gracias a las pruebas podemos corregir bugs o errores, antes de desplegar la aplicaciÃ³n en producciÃ³n, ademÃ¡s de que agregan <strong>calidad</strong> a nuestro software.</p><h2 id=pruebas-unitarias>Pruebas Unitarias</h2><p>Las pruebas unitarias estÃ¡n orientadas a pequeÃ±as funcionalidades de un componente en especÃ­fico.</p><p><img src=https://user-images.githubusercontent.com/99143567/175169220-acba6646-6cb1-4523-86b7-3730ca53ddcc.png alt=i2></p><h2 id=pruebas-de-integraciÃ³n>Pruebas de IntegraciÃ³n</h2><p>Las pruebas de integraciÃ³n estÃ¡n orientadas a probar como interactÃºan los componentes entre sÃ­, a probar su comportamiento.</p><p><img src=https://user-images.githubusercontent.com/99143567/175169265-86143481-df6f-4f20-8ea4-b94fcd9ebff3.png alt=i3></p><h2 id=integrar-testing-a-tu-proyecto-de-react-js>Integrar Testing a tu proyecto de React js</h2><p><img src=https://user-images.githubusercontent.com/99143567/175169273-bfead16f-9cf3-4ecc-b911-dc716c0feec2.png alt=i1></p><h4 id=instalando-jest>Instalando jestğŸ”µ</h4><p>Como nosotros usamos VITE para crear el proyecto <strong>tenemos que configurar jest</strong> manualmente para hacer las pruebas.</p><p>Lo primero que tenemos que hacer es <strong>instalarlo</strong>, para ello usamos el siguiente comando en nuestra terminal, esto agregara jest como dependencia de desarrollo en nuestro <em>package.json</em>:</p><pre tabindex=0><code>npm install --save-dev jest
</code></pre><p><img src=https://user-images.githubusercontent.com/99143567/175169289-d6e2139b-592d-44c2-a488-804e10bcad93.gif alt=g1></p><h4 id=aÃ±adiendo-script-de-jest->AÃ±adiendo script de jest ğŸ”µ</h4><p>Seguido de haber instalado el paquete, en nestro <em>package.json</em>, agregaremos:</p><p><strong>a)</strong> Si queremos ejecutar un archivo de prueba solamente.</p><pre tabindex=0><code>{
  &#34;scripts&#34;: {
    &#34;test&#34;: &#34;jest&#34;
  }
}
</code></pre><p><strong>b)</strong> Si queremos estar ejecutando continuamente todas las pruebas cada que hagamos un cambio, o solamente estar al pendiente de una prueba cada qeu se hagan cambios:</p><pre tabindex=0><code>{
  &#34;scripts&#34;: {
    &#34;test&#34;: &#34;jest --watchAll&#34;
  }
}
</code></pre><p>En mi caso usare la segunda opciÃ³n.</p><p><img src=https://user-images.githubusercontent.com/99143567/175169473-aa144ae5-663b-4ae1-861d-dfd6f3ad5cc1.gif alt=g2></p><p>Ya podemos ejecutar jest en la terminal usando el comando:</p><pre tabindex=0><code>npm run test
</code></pre><p>Pero sorpresa, aun no tenemos pruebas que ejecutar.</p><h4 id=estructura-de-carpetas>Estructura de carpetasğŸ”µ</h4><p>Puedes acomodar tus archivos de test como quieras, yo lo hare de la siguiente forma:</p><p>1.- En la raÃ­z de tu proyecto crea una carpeta que se llame <strong>tests</strong>, esta carpeta serÃ¡ un espejo de tu carpeta <em>src</em>, y contendrÃ¡ la misma estructura.</p><p>A diferencia que los archivos tendrÃ¡n una extensiÃ³n <strong>.test.js</strong> o <strong>.test.jsx</strong></p><p><img src=https://user-images.githubusercontent.com/99143567/175169592-b50c4524-6806-4e3c-99f7-f01328c024e0.JPG alt=i4></p><h4 id=agregando-dependencia-para-ayudarnos-con-los-comandos-de-jest>Agregando dependencia para ayudarnos con los comandos de JestğŸ”µ</h4><p>Instalaremos este paquete que nos ayudara a no tener que memorizar todos los comandos.</p><pre tabindex=0><code>npm install --save-dev @types/jest
</code></pre><p><img src=https://user-images.githubusercontent.com/99143567/175169605-f3d64b0b-91fb-4037-981b-878e60d2e2ba.gif alt=g3></p><h4 id=confiuraciones-adicionales-y-aÃ±adiendo-react-testing-library-para-testear-el-dom>Confiuraciones adicionales y aÃ±adiendo React Testing Library para testear el DOMğŸ™ğŸ”µ</h4><p>ğŸ›¸AÃ±adimos la dependencia de React Testing Library a nuestro proyecto:</p><pre tabindex=0><code>npm install --save-dev @testing-library/react
</code></pre><p>ğŸ›¸AÃ±adimos la siguiente dependencia:</p><pre tabindex=0><code>npm install jest-environment-jsdom
</code></pre><p>ğŸ›¸Crear un archivo en la raiz del proyecto llamado <strong>jest.config.js</strong> y dentro el siguiente codigo:</p><pre tabindex=0><code>module.exports = {
    testEnvironment: &#39;jest-environment-jsdom&#39;,
    setupFiles: [&#39;./jest.setup.js&#39;]
}
</code></pre><p>ğŸ›¸AÃ±adimos la siguiente dependencia:</p><pre tabindex=0><code>npm install whatwg-fetch --save
</code></pre><p>ğŸ›¸Creamos un archivo en la raÃ­z del proyecto llamado <strong>jest.setup.js</strong> y dentro el siguiente cÃ³digo:</p><pre tabindex=0><code>import &#39;whatwg-fetch&#39;;
</code></pre><p>ğŸ›¸ Instalamos estos paquetes necesarios para que no haya conflictos con React y Babel:</p><pre tabindex=0><code>npm install --save-dev @babel/preset-react
</code></pre><pre tabindex=0><code>npm install --save-dev babel-jest @babel/core @babel/preset-env
</code></pre><p>ğŸ›¸ Crear un archivo en la raÃ­z del proyecto llamado <strong>babel.config.js</strong> y dentro el siguiente cÃ³digo:</p><pre tabindex=0><code>module.exports = {
  presets: [
    [&#39;@babel/preset-env&#39;, { targets: { esmodules: true } }],
    [&#39;@babel/preset-react&#39;, {runtime: &#39;automatic&#39;}]
  ],
};
</code></pre><p>Al final de todas las configuraciones, asÃ­ deberÃ­an quedar los archivos.</p><p><img src=https://user-images.githubusercontent.com/99143567/175424462-91cc1d32-0cf6-4eb9-bcca-a19015e313fc.JPG alt=i0></p><h4 id=estructura-de-una-prueba->Estructura de una prueba ğŸ”µ</h4><p>DespuÃ©s de realizar todos los pasos anteriores, ya podemos escribir nuestras pruebas.</p><p><img src=https://user-images.githubusercontent.com/99143567/175169644-857df844-1f84-44d6-af46-9f0078d9d346.JPG alt=i6></p><p><strong>ğŸš¨Recuerda no confiar en una prueba que no has visto fallarğŸš¨</strong></p><p>Ejecutamos para ver como nuestra prueba falla:</p><pre tabindex=0><code>npm run test
</code></pre><p>Reescribimos el cÃ³digo para que pase la prueba y guardamos los cambios, automÃ¡ticamente se ejecutara la prueba gracias a la configuraciÃ³n que hicimos con <em>jest &ndash;watchAll</em>.</p><p><img src=https://user-images.githubusercontent.com/99143567/175169672-132a8848-4ccd-42f4-af53-32526e61b219.JPG alt=i7></p><p><img src=https://user-images.githubusercontent.com/99143567/175169679-5ad5cc47-8ba4-4233-80c7-07f885197684.JPG alt=i8></p><p>Listo ya puedes escribir tus pruebas en React :).</p><h4 id=en-este-blog-aprendimos-a-como-integrar-pruebas-a-nuestro-proyecto-de-react-y-como-configurar-jest-para-que-funcione-correctamente->En este blog aprendimos a como integrar pruebas a nuestro proyecto de React y como configurar jest para que funcione correctamente. ğŸš€</h4><p><em>Deseando que te encuentres bien, te saluda UlisesğŸ¤µ&mldr;</em>
<em>SÃ­gueme en mis redes</em>
<a href=https://github.com/UlisesOrnelasR>GitHub</a>
<a href=https://www.linkedin.com/in/ulises-ornelas/>LinkedIn</a>
<a href=https://twitter.com/UlisesOrnelass>Twitter</a></p><div class=footer>| Copyright Â© 2022 <b>All Rights Reserved</b> @UlisesOrnelass |</div></div></body></html>