<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Blog &lt;Ulises_Ornelas/>/my_blog/posts/unittesting/</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/terminal-0.7.2.min.css><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/animate-4.1.1.min.css><link rel=stylesheet href=https://ulisesornelasr.github.io/my_blog/hugo-theme-console/css/console.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><meta property="og:title" content="Integrar Testing con a tu proyecto de React JS"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://ulisesornelasr.github.io/my_blog/posts/unittesting/"><meta property="article:published_time" content="2022-06-22T00:00:00+00:00"><meta name=twitter:title content="Integrar Testing con a tu proyecto de React JS"><meta name=twitter:description content="En esta publicación veremos como integrar pruebas de unidad a nuestro proyecto de React JS, utilizando JEST🃏&mldr;"></head><body class=terminal><div class=container><div class=terminal-nav><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://ulisesornelasr.github.io/my_blog/ class="no-style site-name">Blog &lt;Ulises_Ornelas/></a>:~#
<a href=https://ulisesornelasr.github.io/my_blog/posts>posts</a>/<a href=https://ulisesornelasr.github.io/my_blog/posts/unittesting>unittesting</a>/</div></header><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=https://ulisesornelasr.github.io/my_blog/about/ typeof="ListItem">about/</a></li><li><a href=https://ulisesornelasr.github.io/my_blog/posts/ typeof="ListItem">posts/</a></li><li><a href=https://ulisesornelasr.github.io/my_blog/photos/ typeof="ListItem">photos/</a></li></ul></nav></div></div><div class="container animated zoomIn fast"><h1>Integrar Testing con a tu proyecto de React JS</h1>Jun. 22, 2022<br><br><p>En esta publicación veremos como integrar pruebas de unidad a nuestro proyecto de React JS, utilizando <a href=https://jestjs.io/>JEST</a>🃏&mldr;</p><h2 id=unit-testing>Unit Testing</h2><p>Las pruebas de unidad son <strong>muy importates</strong> en un proyecto, tanto asi, que decia mi mentor <a href=https://twitter.com/carlogilmar>CarloGilmar</a> durante mi travesia en Launch X &ldquo;Las pruebas no son negociables, ¿Como compruebas que tu proyecto realmente funciona?-Con pruebas&rdquo;.</p><p>Tristemente tenemos una cultura donde se cree que las pruebas son una perdida de tiempo, que tardariamos incluso mas del doble en realizar una funcionalidad, pero <strong>esto no es asi</strong>, este tiempo en que realizariamos las pruebas nos lo tomaria en corregir los posibles bugs que tengamos sin hacer pruebas.</p><p>No obstante, realizar pruebas no quiere decir que estemos excetos de tener errores en nuestra aplicación, <strong>somos humanos y comentemos errores</strong>.</p><p>Gracias a las pruebas podemos corregir bugs o errores, antes de desplegar la aplicación en producción, ademas de que agregan <strong>calidad</strong> a nuestro software.</p><h2 id=pruebas-unitarias>Pruebas Unitarias</h2><p>Las pruebas unitarias estan orientadas a pequeñas funcionalidades de un componente en especifico.</p><p>i2</p><h2 id=pruebas-de-integración>Pruebas de Integración</h2><p>Las pruebas de integración estan orientadas a probar como interactuan los componentes entre si, a probar su comportamiento.</p><p>i3</p><h2 id=integrar-testing-a-tu-proyecto-de-react-js>Integrar Testing a tu proyecto de React js</h2><p>i1</p><h4 id=instalando-jest>Instalando jest🔵</h4><p>Como nosotros usamos VITE para crear el proyecto <strong>tenemos que configurar jest</strong> manualmente para hacer las pruebas.</p><p>Lo primero que tenemos que hacer es <strong>instalarlo</strong>, para ello usamos el siguiente comando en nuestra terminal, esto agregara jest como dependencia de desarrollo en nuestro <em>package.json</em>:</p><pre tabindex=0><code>npm install --save-dev jest
</code></pre><p>g1</p><h4 id=añadiendo-script-de-jest->Añadiendo script de jest 🔵</h4><p>Seguido de haber instalado el paquete, en nestro <em>package.json</em>, agregaremos:</p><p><strong>a)</strong> Si queremos ejecutar un archivo de prueba solamente.</p><pre tabindex=0><code>{
  &#34;scripts&#34;: {
    &#34;test&#34;: &#34;jest&#34;
  }
}
</code></pre><p><strong>b)</strong> Si queremos estar ejecutando continuamente todas las pruebas cada que hagamos un cambio, o solamente estar al pendiente de una prueba cada qeu se hagan cambios:</p><pre tabindex=0><code>{
  &#34;scripts&#34;: {
    &#34;test&#34;: &#34;jest --watchAll&#34;
  }
}
</code></pre><p>En mi caso usare la segunda opción.</p><p>g2</p><p>Ya podemos ejecutar jest en la terminal usando el comando:</p><pre tabindex=0><code>npm run test
</code></pre><p>Pero sorpresa, aun no tenemos pruebas que ejecutar.</p><h4 id=estructura-de-carpetas>Estructura de carpetas🔵</h4><p>Puedes acomodar tus archivos de test como quieras, yo lo hare de la siguiente forma:</p><p>1.- En la raiz de tu proyecto crea una carpeta que se llame <strong>tests</strong>, esta carpeta sera un espejo de tu carpeta <em>src</em>, y contendra la misma estructura.</p><p>A diferencia que los archivos tendran una extension <strong>.test.js</strong> o <strong>.test.jsx</strong></p><p>i4</p><h4 id=agregando-dependencia-para-ayudarnos-con-los-comandos-de-jest>Agregando dependencia para ayudarnos con los comandos de Jest🔵</h4><p>Instalaremos este paquete que nos ayudara a no tener que memorizar todos los comandos.</p><pre tabindex=0><code>npm install --save-dev @types/jest
</code></pre><p>g3</p><h4 id=solucionando-error->Solucionando error 🔵</h4><p>i5</p><p>Este error sucede porque React usa babel, para resolverlo tenemos que hacer lo siguiente:</p><p>1.- Instalar un nuevo paquete:</p><pre tabindex=0><code>npm install --save-dev babel-jest @babel/core @babel/preset-env
</code></pre><p>2.-Crear un archivo en la raiz del proyecto llamado <em>babel.config.js</em> y dentro el siguiente codigo:</p><pre tabindex=0><code>module.exports = {
  presets: [[&#39;@babel/preset-env&#39;, {targets: {node: &#39;current&#39;}}]],
};
</code></pre><p>g4</p><h4 id=estructura-de-una-prueba->Estructura de una prueba 🔵</h4><p>Despues de realizar todos los pasos anteriores, ya podemos escribir nuestras pruebas.</p><p>i6</p><p><strong>🚨Recuerda no confiar en una prueba que no has visto fallar🚨</strong></p><p>Ejecutamos para ver como nuestra prueba falla:</p><pre tabindex=0><code>npm run test
</code></pre><p>Reescribimos el codigo para que pase la prueba y guardamos los cambios, automaticamente se ejecutara la prueba gracias a la configuracion que hicimos con <em>jest &ndash;watchAll</em>.</p><p>i7</p><p>i8</p><p>Listo ya puedes escribir tus pruebas en React :).</p><h4 id=en-este-blog-aprendimos-a-como-integrar-pruebas-a-nuestro-proyecto-de-react-y-como-configurar-jest-para-que-funcione-correctamente->En este blog aprendimos a como integrar pruebas a nuestro proyecto de React y como configurar jest para que funcione correctamente. 🚀</h4><p><em>Deseando que te encuentres bien, te saluda Ulises🤵&mldr;</em>
<em>Sígueme en mis redes</em>
<a href=https://github.com/UlisesOrnelasR>GitHub</a>
<a href=https://www.linkedin.com/in/ulises-ornelas/>LinkedIn</a>
<a href=https://twitter.com/UlisesOrnelass>Twitter</a></p><div class=footer>| Copyright © 2022 <b>All Rights Reserved</b> @UlisesOrnelass |</div></div></body></html>